# ManyDaughters Code Checking

## Project Description
This project is designed to automate the process of downloading and executing STATA do-files, and uploading corresponding log files for the ManyDaughters RT Analysis Package. It consists of ten main applications: download_app_5.py, stata_runner_app_5.py, repro_checker_app_5.py, censoring_app_95.py, feedback_app.py, upload_app_5.py, download_app_95.py, stata_runner_app_95.py, repro_checker_app_95.py, and upload_app_95.py.

## Project Structure
.env
.gitignore
download_app_5.py
stata_runner_app_5.py
repro_checker_app_5.py
censoring_app_95.py
feedback_app.py
upload_app_5.py
download_app_95.py
stata_runner_app_95.py
repro_checker_app_95.py
upload_app_95.py
log/
ManyDaughters_RT_AnalysisPackage/
    code/
        checked/
        examples/
    data/
        derived/
        raw/
    log/
        censored/
        lib/
        uploaded/
ManyDaughters_PC_AnalysisPackage_95/
    code/
        checked/
        examples/
    data/
        derived/
        raw/
    log/
        censored/
        lib/
        uploaded/
requirements.txt
RT Credentials.csv
venv/
    Include/
    Lib/
        site-packages/
    pyvenv.cfg
    README_private.md
    Scripts/
        __pycache__/
        activate
        activate.bat
        activate.fish
        Activate.ps1
        clear_comtypes_cache.exe
        deactivate.bat
        dotenv.exe
        normalizer.exe
        pip.exe
        pip3.13.exe
        pip3.exe

## Prerequisites

- Python 3.x
- Virtual environment (optional but recommended)
- Stata 17 (or compatible version)

## Setup

1. Clone the repository.
2. Create a virtual environment and activate it:
    ```sh
    python -m venv venv
    source venv/bin/activate  # On Windows use `venv\Scripts\activate`
    ```
3. Install the required packages:
    ```sh
    pip install -r requirements.txt
    ```
4. Create a [`.env`](.env ) file in the root directory with the following content:
    ```
    GITHUB_ManyDaughters_PAT=your_github_personal_access_token
    ```

## Applications

### Download App 5% (`download_app_5.py`)

This application downloads `.do` files from a specified AWS S3 bucket for the 5% data sample.

#### Usage

```sh
python download_app_5.py
```

### Stata Runner App 5% (`stata_runner_app_5.py`)

This application executes the downloaded `.do` files using Stata and moves the generated log files to a local directory for the 5% data sample.

#### Usage

```sh
python stata_runner_app_5.py
```

### Repro Checker App 5% (`repro_checker_app_5.py`)

This application compares the results of the executed `.do` files with the original results to check for computational reproducibility for the 5% data sample.

#### Usage

```sh
python repro_checker_app_5.py
```

### Upload App 5% (`upload_app_5.py`)

This application uploads the processed log files to a specified AWS S3 bucket for the 5% data sample.

#### Usage

```sh
python upload_app_5.py
```


### Download App 95% (`download_app_95.py`)

This application downloads `.do` files from a specified AWS S3 bucket for the 95% data sample.

#### Usage

```sh
python download_app_95.py
```

### Stata Runner App 95% (`stata_runner_app_95.py`)

This application executes the downloaded `.do` files using Stata and moves the generated log files to a local directory for the 95% data sample.

#### Usage

```sh
python stata_runner_app_95.py
```

### Censoring App 95% (`censoring_app_95.py`)

This application processes the log files generated by the Stata Runner App, censors sensitive information, and moves the processed log files to a designated directory for the 95% data sample.

#### Usage

```sh
python censoring_app_95.py
```

### Upload App 95% (`upload_app_95.py`)

This application uploads the processed log files to a specified AWS S3 bucket for the 95% data sample.

#### Usage

```sh
python upload_app_95.py
```

## License

This project is licensed under the Creative Commons Attribution 4.0 International License. You are free to:

- Share: copy and redistribute the material in any medium or format
- Adapt: remix, transform, and build upon the material for any purpose, even commercially.

Under the following terms:

- Attribution: You must give appropriate credit, provide a link to the license, and indicate if changes were made. You may do so in any reasonable manner, but not in any way that suggests the licensor endorses you or your use.

For more details, see the [LICENSE] file.
